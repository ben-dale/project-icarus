(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53957c80"],{"1dde":function(e,t,a){var s=a("d039"),r=a("b622"),o=a("2d00"),i=r("species");e.exports=function(e){return o>=51||!s((function(){var t=[],a=t.constructor={};return a[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2532:function(e,t,a){"use strict";var s=a("23e7"),r=a("5a34"),o=a("1d80"),i=a("ab13");s({target:"String",proto:!0,forced:!i("includes")},{includes:function(e){return!!~String(o(this)).indexOf(r(e),arguments.length>1?arguments[1]:void 0)}})},"2cee":function(e,t,a){"use strict";a("ae7f")},"44e7":function(e,t,a){var s=a("861d"),r=a("c6b6"),o=a("b622"),i=o("match");e.exports=function(e){var t;return s(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==r(e))}},"4de4":function(e,t,a){"use strict";var s=a("23e7"),r=a("b727").filter,o=a("1dde"),i=a("ae40"),n=o("filter"),l=i("filter");s({target:"Array",proto:!0,forced:!n||!l},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"5a34":function(e,t,a){var s=a("44e7");e.exports=function(e){if(s(e))throw TypeError("The method doesn't accept regular expressions");return e}},"65f0":function(e,t,a){var s=a("861d"),r=a("e8b5"),o=a("b622"),i=o("species");e.exports=function(e,t){var a;return r(e)&&(a=e.constructor,"function"!=typeof a||a!==Array&&!r(a.prototype)?s(a)&&(a=a[i],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===t?0:t)}},7921:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e.room&&e.room.game&&!e.room.game.closed&&!e.room.playerIds.includes(e.socket.id)?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[e._m(0),a("div",{staticClass:"row"},[a("TextInput",{attrs:{buttonText:"Join",placeholder:"Name",length:8},on:{submit:e.joinSession}})],1)])]):e._e(),e.room&&e.room.game&&e.room.game.closed&&!e.room.playerIds.includes(e.socket.id)&&e.room.disconnectedPlayerIds.length>0?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[e._m(1),a("div",{staticClass:"row"},[a("TextInput",{attrs:{buttonText:"Rejoin",placeholder:"Code"},on:{submit:e.rejoinSession}})],1)])]):e._e(),e.room&&e.room.game&&e.room.game.closed&&!e.room.playerIds.includes(e.socket.id)&&0==e.room.disconnectedPlayerIds.length?a("div",{staticClass:"row"},[a("RoomClosed")],1):e._e(),e.room&&e.room.game.closed&&e.room.disconnectedPlayerIds.length>0&&e.room.playerIds.includes(e.getPlayerId())?a("div",e._l(e.getDisconnectedPlayers(),(function(t){return a("div",{key:t.id,staticClass:"row"},[a("div",{staticClass:"col-12 py-3 col-md-8 offset-md-2"},[a("div",{staticClass:"card bg-dark border border-primary"},[a("div",{staticClass:"card-body text-light text-center"},[a("p",{staticClass:"card-text"},[e._v(e._s(t.name)+" has left the game.")]),a("p",{staticClass:"card-text"},[e._v("The game will resume when "+e._s(t.name)+" rejoins the game.")]),a("p",{staticClass:"card-text"},[e._v(" They may rejoin the game using the code "),a("span",{staticClass:"bg-primary px-2 py-1"},[e._v(e._s(t.id))])])]),a("div",{staticClass:"card-footer bg-primary"},[a("button",{staticClass:"btn btn-secondary btn-block",attrs:{id:"copyLinkAndCodeButton"+t.id},on:{click:function(a){return e.copyLinkAndCode(t.id,t.name)}}},[e._v("Copy link + code")])])])])])})),0):e._e(),e.room&&e.room.game&&e.room.playerIds.includes(e.getPlayerId())&&"LOBBY"==e.room.game.screen?a("div",{staticClass:"row"},[a("Lobby",{attrs:{socket:e.socket,room:e.room,players:e.players,isPlayerReady:e.isPlayerReady,minPlayers:5},on:{"percival-enabled":e.percivalEnabled,"oberon-enabled":e.oberonEnabled,"morgana-enabled":e.morganaEnabled,"quest-log-enabled":e.questLogEnabled,"player-ready":e.readyUp,"player-not-ready":e.notReady}})],1):e._e(),e.room&&e.room.game&&e.room.playerIds.includes(e.getPlayerId())&&"ROLE_REVEAL"==e.room.game.screen&&0==e.room.disconnectedPlayerIds.length?a("div",{staticClass:"row"},[a("RoleReveal",{attrs:{players:e.players,isPlayerReady:e.isPlayerReady,team:e.team,role:e.role,settings:e.room.game.settings,metadata:e.metadata},on:{"player-ready":e.readyUp,"player-not-ready":e.notReady}})],1):e._e(),e.room&&e.room.game&&e.room.playerIds.includes(e.getPlayerId())&&"GAME"==e.room.game.screen&&0==e.room.disconnectedPlayerIds.length?a("div",{staticClass:"row"},[a("Game",{attrs:{game:e.room.game,players:e.players,team:e.team,role:e.role,vote:e.vote,playerId:e.getPlayerId(),isPlayerReady:e.isPlayerReady},on:{"reveal-quest-vote":e.revealQuestVote,"propose-player-for-quest":e.proposePlayerForQuest,"unpropose-player-for-quest":e.unproposePlayerForQuest,"select-merlin-for-id":e.selectMerlinForId,"unselect-merlin-for-id":e.unselectMerlinForId,"player-ready":e.readyUp,"player-not-ready":e.notReady,"player-approve-proposal":e.playerApproveVote,"player-succeed-quest":e.playerSucceedQuest}})],1):e._e(),a("div",{staticClass:"row d-none d-lg-block"},[a("Footer")],1)])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row my-3"},[a("div",{staticClass:"col-12 col-lg-8 offset-lg-2 text-center"},[a("h5",{staticClass:"text-light"},[e._v("Enter your name")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row my-3"},[a("div",{staticClass:"col-12 col-lg-8 offset-lg-2 text-center"},[a("h5",{staticClass:"text-light"},[e._v("Enter your code")])])])}],o=(a("4de4"),a("7db0"),a("caad"),a("d81d"),a("fb6a"),a("2532"),a("8055")),i=a.n(o),n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},l=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-12"},[a("div",{staticClass:"card bg-dark border border-primary"},[a("div",{staticClass:"card-body text-light py-5"},[a("div",{staticClass:"card-text text-center"},[e._v("The game has started and can no longer be joined.")])])])])}],d={name:"RoomClosed"},c=d,u=a("2877"),y=Object(u["a"])(c,n,l,!1,null,null,null),m=y.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-md-12 col-lg-4 offset-lg-4"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.placeholder,"aria-label":"Name","aria-describedby":"button-start",maxlength:e.length,required:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button",id:"button-start"},on:{click:e.submit}},[e._v(e._s(e.buttonText))])])])])]),a("div",{staticClass:"row"},[a("Footer")],1)])},b=[],v=(a("b0c0"),a("a9e3"),a("cdaa")),g={name:"TextInput",components:{Footer:v["a"]},props:{buttonText:String,placeholder:String,length:{type:Number,default:20}},data:function(){return{name:""}},methods:{submit:function(){this.$emit("submit",this.name)}}},f=g,h=Object(u["a"])(f,p,b,!1,null,null,null),C=h.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-12 col-md-8 offset-md-2"},[a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-12"},[e.isRoomOwner?a("div",{staticClass:"card bg-dark border-primary text-light mt-3"},[a("div",{staticClass:"card-body",staticStyle:{"padding-bottom":"0"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6 col-md-12 mb-3"},[a("button",{staticClass:"btn btn-info btn-block",attrs:{type:"button",disabled:!e.isRoomOwner}},[e._v(" Merlin "),a("br"),e._v("Knows which team each player is in ")])]),a("div",{staticClass:"col-lg-6 col-md-12 mb-3"},[a("button",{staticClass:"btn btn-danger btn-block",attrs:{type:"button",disabled:!e.isRoomOwner}},[e._v(" Assassin "),a("br"),e._v("Has an opportunity to steal the win ")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 col-lg-4 mb-3"},[a("button",{class:["btn border-secondary btn-block text-white",e.room&&e.room.game.settings.percivalEnabled?"btn-info border-info":""],attrs:{type:"button",disabled:!e.isRoomOwner},on:{click:function(t){return e.percivalEnabled(!e.room.game.settings.percivalEnabled)}}},[e._v(" Percival "),a("br"),e._v("Knows Merlin's identity ")])]),a("div",{staticClass:"col-md-12 col-lg-4 mb-3"},[a("button",{class:["btn border-secondary btn-block text-white",e.room&&e.room.game.settings.morganaEnabled?"btn-danger border-danger":""],attrs:{type:"button",disabled:!e.isRoomOwner||e.room.game.settings.oberonEnabled&&e.players.length<7},on:{click:function(t){return e.morganaEnabled(!e.room.game.settings.morganaEnabled)}}},[e._v(" Morgana "),a("br"),e._v("Disguised as Merlin ")])]),a("div",{staticClass:"col-md-12 col-lg-4 mb-3"},[a("button",{class:["btn border-secondary btn-block text-white",e.room&&e.room.game.settings.oberonEnabled?"btn-danger border-danger":""],attrs:{type:"button",disabled:!e.isRoomOwner||e.room.game.settings.morganaEnabled&&e.players.length<7},on:{click:function(t){return e.oberonEnabled(!e.room.game.settings.oberonEnabled)}}},[e._v(" Oberon "),a("br"),e._v("Invisible to all but Merlin ")])])]),a("hr",{staticClass:"border border-primary mt-0"}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 mb-3"},[a("button",{class:["btn border-secondary btn-block text-white",e.room&&e.room.game.settings.questLogEnabled?"btn-secondary border-secondary text-dark":""],attrs:{type:"button",disabled:!e.isRoomOwner},on:{click:function(t){return e.questLogEnabled(!e.room.game.settings.questLogEnabled)}}},[e._v(" Quest Log "),a("br"),e._v("Record who went on each quest ")])])])])]):e._e()])]),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"card bg-dark border border-primary"},[a("div",{staticClass:"card-body pb-1"},[a("PlayerReadyBar",{attrs:{nameColSpan:2,players:e.players,showEmptySpaces:!0}})],1)])])]),a("div",{staticClass:"row mb-3 mobile-bottom-page-padding"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"card bg-dark border border-primary text-center text-light"},[a("div",{staticClass:"card-body py-4"},[a("p",{staticClass:"card-text"},[e._v("Instructions and explanations are provided to you during the game.")]),a("p",{staticClass:"card-text"},[e._v("The next screen will reveal which team you are in and which role you will play.")]),a("p",{staticClass:"card-text"},[e._v("You may wish to keep your role and team to yourself.")]),e.playersStillNeeded>0?a("p",{staticClass:"card-text"},[e._v("We are still waiting for "+e._s(e.playersStillNeeded)+" more "+e._s(1==e.playersStillNeeded?"player":"players")+" to join the lobby.")]):e._e(),0==e.playersStillNeeded?a("p",{staticClass:"card-text"},[e._v("The game will begin when all players are ready.")]):e._e()]),a("div",{staticClass:"card-footer bg-primary d-none d-md-block"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("ReadyButton",e._g({attrs:{isPlayerReady:e.isPlayerReady}},e.$listeners))],1),a("div",{staticClass:"col-6"},[a("button",{staticClass:"btn-copy-link btn btn-block btn-secondary",attrs:{"data-toggle":"tooltip","data-placement":"top",title:"Copied!"},on:{click:e.share}},[e._v("Share")])])])])])])]),a("div",{staticClass:"fixed-bottom"},[a("div",{staticClass:"card bg-primary rounded-0 d-none d-block d-md-none pb-5"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6 pb-3"},[a("ReadyButton",e._g({attrs:{isPlayerReady:e.isPlayerReady}},e.$listeners))],1),a("div",{staticClass:"col-12 col-md-3"},[a("button",{staticClass:"btn-copy-link-sm btn btn-block btn-secondary",attrs:{"data-toggle":"tooltip","data-placement":"top",title:"Copied!"},on:{click:e.shareSmall}},[e._v("Share")])])])])])]),a("div",{staticClass:"row d-none d-md-block"},[a("Footer")],1)])},w=[],P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{class:["sim-ready-button","btn","btn-success","btn-block",e.isPlayerReady?"btn-warning":"btn-success"],attrs:{type:"button",disabled:e.disabled},on:{click:e.click}},[e._v(e._s(e.isPlayerReady?"Not ready":"Ready"))])},R=[],k={name:"ReadyButton",props:{isPlayerReady:Boolean,disabled:Boolean},methods:{click:function(){this.isPlayerReady?this.$emit("player-not-ready"):this.$emit("player-ready")}}},E=k,x=Object(u["a"])(E,P,R,!1,null,null,null),I=x.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row text-center"},[e._l(e.players,(function(t){return a("div",{key:t.id,staticClass:"col-4"},[a("p",{class:[t.ready?"bg-success":"bg-primary","mb-3 py-1 text-white d-none d-md-block"],attrs:{disabled:!0}},[e._v(e._s(t.name))]),a("p",{class:[t.ready?"bg-success":"bg-primary","mb-3 py-1 text-white d-none d-block d-md-none"],attrs:{disabled:!0}},[e._v(e._s(t.name[0]))])])})),e._l(e.maxPlayers-e.players.length,(function(t){return a("div",{key:t,staticClass:"col-4"},[e.showEmptySpaces?a("p",{staticClass:"py-1 mb-3 border-primary border"},[e._v("‏‏‎ ‎")]):e._e()])}))],2)},O=[],A={name:"PlayerReadyBar",props:{players:Array,maxPlayers:{type:Number,default:10},nameColSpan:{type:Number,default:4},showEmptySpaces:Boolean}},Q=A,B=Object(u["a"])(Q,S,O,!1,null,null,null),$=B.exports,q=a("1157"),T=a.n(q),L={name:"Lobby",components:{ReadyButton:I,PlayerReadyBar:$,Footer:v["a"]},props:{minPlayers:Number,socket:Object,room:Object,players:Array,isPlayerReady:Boolean},created:function(){T()((function(){T()('[data-toggle="tooltip"]').tooltip(),T()(".btn-copy-link").tooltip("disable"),T()(".btn-copy-link-sm").tooltip("disable")}))},computed:{isRoomOwner:function(){return this.room&&this.socket.id==this.room.ownerId},playersStillNeeded:function(){return this.players.length>=this.minPlayers?0:this.minPlayers-this.players.length}},methods:{share:function(){navigator.clipboard.writeText(window.location.href),T()(".btn-copy-link").tooltip("enable"),T()(".btn-copy-link").tooltip("show"),setTimeout((function(){T()(".btn-copy-link").tooltip("hide"),T()(".btn-copy-link").tooltip("disable"),T()(".btn-copy-link").trigger("blur")}),400)},shareSmall:function(){navigator.clipboard.writeText(window.location.href),T()(".btn-copy-link-sm").tooltip("enable"),T()(".btn-copy-link-sm").tooltip("show"),setTimeout((function(){T()(".btn-copy-link-sm").tooltip("hide"),T()(".btn-copy-link-sm").tooltip("disable"),T()(".btn-copy-link-sm").trigger("blur")}),400)},percivalEnabled:function(e){this.$emit("percival-enabled",e)},morganaEnabled:function(e){this.$emit("morgana-enabled",e)},oberonEnabled:function(e){this.$emit("oberon-enabled",e)},questLogEnabled:function(e){this.$emit("quest-log-enabled",e)}}},N=L,M=(a("869e"),Object(u["a"])(N,_,w,!1,null,"9d2307aa",null)),j=M.exports,V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-12"},[a("div",{staticClass:"row mt-3 mb-2"},[a("div",{staticClass:"col-md-12 col-lg-6 offset-lg-3"},[a("div",{staticClass:"card bg-dark border border-primary"},[a("div",{staticClass:"card-body pb-1"},[a("PlayerReadyBar",{attrs:{nameColSpan:4,players:e.players}})],1)])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 col-lg-6 offset-lg-3 mt-1"},[a("div",{staticClass:"card bg-dark border-primary text-center"},["GUARD"==e.role?a("h5",{staticClass:"sim-role sim-role-good text-white bg-info card-header"},[e._v("You are a Royal Guard")]):e._e(),"MERLIN"==e.role?a("h5",{staticClass:"sim-role sim-role-good text-white bg-info card-header"},[e._v("You are Merlin")]):e._e(),"PERCIVAL"==e.role?a("h5",{staticClass:"sim-role sim-role-good text-white bg-info card-header"},[e._v("You are Percival")]):e._e(),"ASSASSIN"==e.role?a("h5",{staticClass:"sim-role sim-role-bad text-white bg-danger card-header"},[e._v("You are the Assassin")]):e._e(),"MINION"==e.role?a("h5",{staticClass:"sim-role sim-role-bad text-white bg-danger card-header"},[e._v("You are a Minion")]):e._e(),"MORGANA"==e.role?a("h5",{staticClass:"sim-role sim-role-bad text-white bg-danger card-header"},[e._v("You are Morgana")]):e._e(),"OBERON"==e.role?a("h5",{staticClass:"sim-role sim-role-bad text-white bg-danger card-header"},[e._v("You are Oberon")]):e._e(),a("div",{staticClass:"card-body text-white"},["GOOD"==e.team&&"MERLIN"===e.role?a("p",{staticClass:"card-text"},[e._v(" Your goal is to successfully complete three quests. The Assassin will have an opportunity to identify you after three successful quests. Evil will win if the Assassin can identify you. Evil players know who their teammates are. All players know that the Evil team has been revealed to you. "+e._s(e.settings.percivalEnabled?e.settings.morganaEnabled?"Morgana is confusing Percival by disguising as a second Merlin.":"Percival knows your identity.":"Nobody knows your identity.")+" ")]):e._e(),"GOOD"!=e.team||"PERCIVAL"!==e.role||e.settings.morganaEnabled?e._e():a("p",{staticClass:"card-text"},[e._v(" Your goal is to successfully complete three quests. You know who Merlin is. Merlin knows which players are in Evil. Evil players know who their teammates are. ")]),"GOOD"==e.team&&"PERCIVAL"===e.role&&e.settings.morganaEnabled?a("p",{staticClass:"card-text"},[e._v(" Your goal is to successfully complete three quests. Merlin knows which players are in Evil. Morgana is confusing you by disguising as a second Merlin. Merlin knows that Morgana is confusing you. Evil players know who their teammates are. ")]):e._e(),"GOOD"==e.team&&"GUARD"===e.role?a("p",{staticClass:"card-text"},[e._v(" Your goal is to successfully complete three quests. Evil players know who their teammates are. Merlin knows which players are in Evil. ")]):e._e(),"EVIL"==e.team&&"ASSASSIN"===e.role?a("p",{staticClass:"card-text"},[e._v(" Your goal is to disrupt the flow of the game and stay undercover. You will be given an opportunity to identify Merlin after three successful quests. Evil steal will win if you can successfully identify Merlin. The other Evil players know that you are in Evil. Merlin knows which players are in Evil. ")]):e._e(),"EVIL"==e.team&&"MINION"===e.role?a("p",{staticClass:"card-text"},[e._v(" Your goal is to disrupt the flow of the game and stay undercover. The other Evil players know that you are in Evil. Merlin knows which players are in Evil. ")]):e._e(),"EVIL"==e.team&&"MORGANA"===e.role?a("p",{staticClass:"card-text"},[e._v(" Your goal is to disrupt the flow of the game and stay undercover. You are disguised as Merlin which confuses Percival. The other Evil players know that you are in Evil. Merlin knows which players are in Evil. ")]):e._e(),"EVIL"==e.team&&"OBERON"===e.role?a("p",{staticClass:"card-text"},[e._v(" Your goal is to disrupt the flow of the game and stay undercover. Evil players do not know that you are in Evil. Merlin knows which players are in Evil. ")]):e._e()])])])]),"GUARD"!=e.role?a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-md-12 col-lg-6 offset-lg-3"},[a("div",{staticClass:"card bg-dark border border-primary text-light"},["EVIL"==e.team||"MERLIN"==e.role?a("h5",{staticClass:"card-header border-primary text-center"},[e._v("Evil Team")]):e._e(),"EVIL"==e.team||"MERLIN"==e.role?a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},e._l(e.metadata,(function(t,s){return a("div",{key:s,staticClass:"col-6"},[a("p",{staticClass:"sim-team-mate text-center card-text bg-danger py-1"},[e._v(e._s(e.findPlayerName(t)))])])})),0)]):e._e(),"PERCIVAL"==e.role?a("h5",{staticClass:"card-header border-primary text-center"},[e._v("Merlin")]):e._e(),"PERCIVAL"==e.role?a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},e._l(e.metadata,(function(t,s){return a("div",{key:s,class:["col-6",1==e.metadata.length?"offset-3":""]},[a("p",{staticClass:"text-center card-text bg-info py-1"},[e._v(e._s(e.findPlayerName(t)))])])})),0)]):e._e()])])]):e._e(),a("div",{staticClass:"row mt-3 d-none d-lg-block"},[a("div",{staticClass:"col-6 offset-3"},[a("ReadyButton",e._g({attrs:{isPlayerReady:e.isPlayerReady}},e.$listeners))],1)]),a("div",{staticClass:"fixed-bottom"},[a("div",{staticClass:"card bg-primary rounded-0 d-none d-block d-lg-none"},[a("div",{staticClass:"card-body pb-5"},[a("ReadyButton",e._g({attrs:{isPlayerReady:e.isPlayerReady}},e.$listeners))],1)])])])},Y=[],D={name:"RoleReveal",components:{PlayerReadyBar:$,ReadyButton:I},props:{team:String,role:String,settings:Object,metadata:Array,players:Array,isPlayerReady:Boolean},methods:{findPlayerName:function(e){return this.players.find((function(t){return t.id==e})).name}}},G=D,U=Object(u["a"])(G,V,Y,!1,null,null,null),F=U.exports,W=function(){var e=this,t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-12 col-md-8 offset-md-2"},[s("div",{staticClass:"row pb-2 pt-3"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"mb-2"},[s("div",{staticClass:"card bg-dark border border-primary"},[s("div",{staticClass:"card-body pb-1"},[s("PlayerReadyBar",{attrs:{nameColSpan:2,players:t.players}})],1)])])])]),t.game.settings.questLogEnabled?s("div",{staticClass:"row"},[s("QuestLog",{attrs:{questLog:t.game.questLogs,players:t.players,disagreements:t.game.currentQuest.disagreements}})],1):t._e(),t.game.settings.questLogEnabled?s("hr",{staticClass:"border border-primary"}):t._e(),"QUEST_PROPOSING"!=t.game.state||t.playerIsOrganiser?t._e():s("div",{staticClass:"row"},[s("Waiting",t._g({attrs:{header:"Team proposal",lines:["There are five quests to complete. Each quest has a nominated player that acts as the quest's leader.",t.currentOrganiser.name+" is the current quest leader and is choosing a team for Quest "+t.game.currentQuest.id+"."],questId:t.game.currentQuest.id,isPlayerReady:t.isPlayerReady}},t.$listeners))],1),"QUEST_PROPOSING"==t.game.state&&t.playerIsOrganiser?s("div",{staticClass:"row"},[s("PlayerSelection",t._g({attrs:{header:"Quest "+t.game.currentQuest.id+" - Team proposal",body:["There are five quests to complete. You are tasked with proposing a team for Quest "+t.game.currentQuest.id+". Your proposal will be put to a majority vote when everyone is ready.","Select "+t.game.currentQuest.requiredPlayers+" players to send on Quest "+t.game.currentQuest.id+"."],players:t.players,proposedPlayerIds:t.game.currentQuest.proposedPlayerIds,requiredPlayers:t.game.currentQuest.requiredPlayers,isPlayerReady:t.isPlayerReady,onPlayerSelected:function(t){return e.$emit("propose-player-for-quest",t)},onPlayerDeselected:function(t){return e.$emit("unpropose-player-for-quest",t)}}},t.$listeners))],1):t._e(),"QUEST_PROPOSAL"==t.game.state?s("div",{staticClass:"row"},[s("QuestProposalVoteInput",t._g({attrs:{questId:t.game.currentQuest.id,organiser:t.currentOrganiser.name,names:t.proposedQuestMemberNames,isPlayerReady:t.isPlayerReady,vote:t.vote}},t.$listeners))],1):t._e(),"QUEST_PROPOSAL_RESULT"==t.game.state?s("div",{staticClass:"row"},[s("QuestProposalVoteResult",t._g({attrs:{players:t.players,names:t.proposedQuestMemberNames,proposalAccepted:t.game.currentQuest.proposalAccepted,questId:t.game.currentQuest.id,isPlayerReady:t.isPlayerReady}},t.$listeners))],1):t._e(),"QUEST_STARTED"!=t.game.state||t.game.currentQuest.proposedPlayerIds.includes(t.playerId)?t._e():s("div",{staticClass:"row"},[s("Waiting",t._g({attrs:{header:"Quest underway",lines:["The quest is underway!","The result of the quest will be revealed when the quest has been completed and everyone is ready."],questId:t.game.currentQuest.id,isPlayerReady:t.isPlayerReady}},t.$listeners))],1),"QUEST_STARTED"==t.game.state&&t.game.currentQuest.proposedPlayerIds.includes(t.playerId)?s("div",{staticClass:"row"},[s("QuestOutcomeVoteInput",t._g({attrs:{names:t.proposedQuestPlayerNames,questId:t.game.currentQuest.id,isEvil:"EVIL"==t.team,isPlayerReady:t.isPlayerReady,vote:t.vote}},t.$listeners))],1):t._e(),"QUEST_RESULT_REVEAL"==t.game.state?s("div",{staticClass:"row mb-3"},[s("QuestResultReveal",t._g({attrs:{organiserName:t.currentOrganiser.name,playerIsOrganiser:t.playerIsOrganiser,results:t.game.currentQuest.votes,questId:t.game.currentQuest.id,questResult:t.game.currentQuest.result,isPlayerReady:t.isPlayerReady}},t.$listeners))],1):t._e(),"MERLIN_ID"==t.game.state&&"ASSASSIN"==this.role?s("div",{staticClass:"row"},[s("PlayerSelection",t._g({attrs:{header:"Quest "+t.game.currentQuest.id+" - Assassination attempt",body:["Your identity has been revealed to all players. You may now discuss openly with your team members who you believe Merlin is.","If you manage to successfully identify Merlin you will steal the win."],players:t.players.filter((function(e){return"GOOD"===e.team})),proposedPlayerIds:t.game.currentQuest.proposedPlayerIds,requiredPlayers:1,isPlayerReady:t.isPlayerReady,onPlayerSelected:function(t){return e.$emit("select-merlin-for-id",t)},onPlayerDeselected:function(t){return e.$emit("unselect-merlin-for-id",t)}}},t.$listeners))],1):t._e(),"MERLIN_ID"==t.game.state&&"ASSASSIN"!=this.role?s("div",{staticClass:"row"},[s("Waiting",t._g({attrs:{header:"Assassination attempt",lines:[this.players.filter((function(e){return"EVIL"==e.team})).map((function(e){return e.name})).join(", ")+" are in Evil and now may openly discuss who they believe Merlin is.",this.players.find((function(e){return"ASSASSIN"==e.role})).name+" is the Assassin. Their choice will be visible when everyone is ready."],questId:t.game.currentQuest.id,isPlayerReady:t.isPlayerReady}},t.$listeners))],1):t._e(),"GAME_OVER"==t.game.state&&"EVIL"==t.game.result?s("div",{staticClass:"row"},[s("Outcome",t._g({attrs:{winner:"EVIL",outcome:"Evil has taken the win!",buttonText:"Play Again",isPlayerReady:t.isPlayerReady}},t.$listeners))],1):t._e(),"GAME_OVER"==t.game.state&&"GOOD"==t.game.result?s("div",{staticClass:"row"},[s("Outcome",t._g({attrs:{winner:"GOOD",outcome:"The Assassin was not able to identify Merlin. Good has taken the win!",buttonText:"Play Again",isPlayerReady:t.isPlayerReady}},t.$listeners))],1):t._e()])},H=[],J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("table",{staticClass:"table table-dark table-bordered bg-dark text-center text-light table-sm"},[e._m(0),a("tbody",e._l(e.questLog,(function(t){return a("tr",{key:t.id},[a("th",{class:{"bg-info text-white":"SUCCEED"===t.result,"bg-danger text-white":"FAIL"===t.result},attrs:{scope:"row"}},[e._v(e._s(t.id))]),a("td",[e._v(e._s(t.requiredPlayers))]),a("td",[e._v(e._s(e.getPlayerNameById(t.organiserId)))]),e._l(t.playerIds,(function(s,r){return a("td",{key:r*t.id},[e._v(e._s(e.getPlayerNameById(s)))])}))],2)})),0)])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"card bg-dark border border-primary"},[a("div",{staticClass:"card-body text-light"},[e.disagreements<5?a("div",{staticClass:"card-text text-center"},[e._v("Evil will steal the win after "+e._s(5-e.disagreements)+" "+e._s(5-e.disagreements==5?"":"more")+" proposal "+e._s(5-e.disagreements==1?"rejection":"rejections")+".")]):e._e(),e.disagreements>=5?a("div",{staticClass:"card-text text-center"},[e._v("Players could not agree on who should go on the quest. The game is now over.")]):e._e()])])])])])},K=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",{staticClass:"thead bg-primary"},[a("tr",[a("th",{attrs:{scope:"col"}},[e._v("Quest")]),a("th",{attrs:{scope:"col"}},[e._v("Required")]),a("th",{attrs:{scope:"col"}},[e._v("Organiser")]),a("th",{staticClass:"text-center",attrs:{scope:"col",colspan:"5"}},[e._v("Members")])])])}],z={props:{players:Array,questLog:Array,disagreements:Number},methods:{getPlayerNameById:function(e){var t=this.players.find((function(t){return t.id==e}));return t&&t.name?t.name:""}}},X=z,Z=(a("97b0"),Object(u["a"])(X,J,K,!1,null,"4e85124a",null)),ee=Z.exports,te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-12"},[a("div",{staticClass:"card bg-primary text-light"},[a("div",{staticClass:"card-body bg-dark text-center"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[e.playerIsOrganiser?e._e():a("p",[e._v(e._s(e.organiserName)+" is revealing the results of the quest...")]),e.playerIsOrganiser?a("p",[e._v("You are revealing the results of the request to everyone.")]):e._e()])]),a("div",{staticClass:"row"},e._l(e.results,(function(t,s){return a("div",{key:s,class:["col-12 mt-2"]},[t.revealed?e._e():a("button",{class:["sim-reveal-button-"+s,"btn btn-secondary btn py-3 btn-block"],attrs:{disabled:!e.playerIsOrganiser},on:{click:function(t){return e.revealQuestVote(s)}}},[e._v("Reveal")]),t.revealed&&"SUCCEED"===t.choice?a("button",{staticClass:"btn btn-info btn py-3 btn-block",attrs:{disabled:""}},[e._v("Succeed")]):e._e(),t.revealed&&"SABOTAGE"===t.choice?a("button",{staticClass:"btn btn-danger btn py-3 btn-block",attrs:{disabled:""}},[e._v("Sabotage")]):e._e()])})),0)]),a("div",{staticClass:"card-footer d-none d-lg-block"},[a("ReadyButton",e._g({attrs:{isPlayerReady:e.isPlayerReady,disabled:""==e.questResult}},e.$listeners))],1)]),a("div",{staticClass:"fixed-bottom"},[a("div",{staticClass:"card bg-primary rounded-0 d-none d-block d-lg-none"},[a("div",{staticClass:"card-body pb-5"},[a("ReadyButton",e._g({attrs:{isPlayerReady:e.isPlayerReady,disabled:""==e.questResult}},e.$listeners))],1)])])])},ae=[],se={name:"QuestResultReveal",components:{ReadyButton:I},props:{playerIsOrganiser:Boolean,organiserName:String,results:Array,questResult:String,isPlayerReady:Boolean},methods:{revealQuestVote:function(e){this.$emit("reveal-quest-vote",e)},resultOffset:function(){switch(this.results.length){case 2:return 2;case 4:return 1}}}},re=se,oe=(a("8648"),Object(u["a"])(re,te,ae,!1,null,"fdadef3a",null)),ie=oe.exports,ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-12"},[a("div",{staticClass:"card bg-primary text-light"},[a("div",{staticClass:"card-body py-4 bg-dark text-center"},[a("p",{staticClass:"card-text"},[e._v(e._s(e.organiser)+" has proposed the following team:")]),a("div",{staticClass:"row pb-3"},e._l(e.names,(function(t,s){return a("div",{key:s,class:["card-text mb-2 col-12"]},[a("div",{staticClass:"bg-primary py-1"},[e._v(e._s(t))])])})),0),e._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("button",{class:["APPROVE"==e.vote?"btn-info":"border-secondary","btn text-white btn-block py-4 sim-approve-button"],attrs:{disabled:e.isPlayerReady},on:{click:function(t){return e.approve(!0)}}},[e._v("Approve")])]),a("div",{staticClass:"col-6"},[a("button",{class:["REJECT"==e.vote?"btn-info":"border-secondary","btn text-white btn-block py-4 sim-reject-button"],attrs:{disabled:e.isPlayerReady},on:{click:function(t){return e.approve(!1)}}},[e._v("Reject")])])])]),a("div",{staticClass:"card-footer d-none d-lg-block"},[a("ReadyButton",e._g({attrs:{isPlayerReady:e.isPlayerReady,disabled:""==e.vote}},e.$listeners))],1)]),a("div",{staticClass:"fixed-bottom"},[a("div",{staticClass:"card bg-primary rounded-0 d-none d-block d-lg-none"},[a("div",{staticClass:"card-body pb-5"},[a("ReadyButton",e._g({attrs:{isPlayerReady:e.isPlayerReady,disabled:""==e.vote}},e.$listeners))],1)])])])},le=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row mb-4"},[a("div",{staticClass:"col-12"},[a("p",{staticClass:"card-text"},[e._v("Do you approve or reject this proposal?")]),a("p",{staticClass:"card-text"},[e._v("Your vote will be seen by the other players. This is a majority vote.")])])])}],de={components:{ReadyButton:I},props:{organiser:String,names:Array,vote:String,isPlayerReady:Boolean},methods:{approve:function(e){this.$emit("player-approve-proposal",e)}}},ce=de,ue=Object(u["a"])(ce,ne,le,!1,null,null,null),ye=ue.exports,me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-12"},[a("div",{staticClass:"card bg-primary text-light"},[a("div",{staticClass:"card-body py-4 bg-dark text-center"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("p",{staticClass:"card-text"},[e._v("This quest contains the following players:")]),a("div",{staticClass:"row pb-3"},e._l(e.names,(function(t,s){return a("div",{key:s,class:["card-text mb-2 col-12"]},[a("div",{staticClass:"py-1 bg-primary"},[e._v(e._s(t))])])})),0),e._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("button",{class:["SUCCEED"==e.vote?"btn-info":"border-secondary","btn text-white btn-block py-4 sim-succeed-button"],attrs:{disabled:e.isPlayerReady},on:{click:function(t){return e.succeed(!0)}}},[e._v("Succeed")])]),a("div",{staticClass:"col-6"},[a("button",{class:["SABOTAGE"==e.vote?"btn-danger":"border-secondary","btn text-white btn-block py-4 sim-sabotage-button"],attrs:{disabled:!e.isEvil||e.isPlayerReady},on:{click:function(t){return e.succeed(!1)}}},[e._v("Sabotage")])])])])])]),a("div",{staticClass:"card-footer d-none d-lg-block"},[a("ReadyButton",e._g({attrs:{isPlayerReady:e.isPlayerReady,disabled:""==e.vote}},e.$listeners))],1)]),a("div",{staticClass:"fixed-bottom"},[a("div",{staticClass:"card bg-primary rounded-0 d-none d-block d-lg-none"},[a("div",{staticClass:"card-body pb-5"},[a("ReadyButton",e._g({attrs:{isPlayerReady:e.isPlayerReady,disabled:""==e.vote}},e.$listeners))],1)])])])},pe=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row mb-4"},[a("div",{staticClass:"col-12"},[a("p",{staticClass:"card-text"},[e._v("How would you like to proceed? Your vote will be kept anonymous.")])])])}],be={components:{ReadyButton:I},props:{isEvil:Boolean,names:Array,isPlayerReady:Boolean,vote:String},methods:{succeed:function(e){this.$emit("player-succeed-quest",e)}}},ve=be,ge=Object(u["a"])(ve,me,pe,!1,null,null,null),fe=ge.exports,he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-md-12"},[a("div",{class:["card","EVIL"==e.winner?"bg-danger":"bg-info"]},[a("div",{staticClass:"card-body text-center py-5"},[a("h4",{staticClass:"card-title text-white"},[e._v(e._s(e.outcome))])]),a("div",{staticClass:"card-footer d-none d-lg-block"},[a("button",{staticClass:"btn btn-secondary btn-block",attrs:{disabled:e.isPlayerReady},on:{click:e.ready}},[e._v(e._s(e.buttonText))])])]),a("div",{staticClass:"fixed-bottom"},[a("div",{staticClass:"card bg-primary rounded-0 d-none d-block d-lg-none"},[a("div",{staticClass:"card-body pb-5"},[a("button",{staticClass:"btn btn-secondary btn-block",attrs:{disabled:e.isPlayerReady},on:{click:e.ready}},[e._v(e._s(e.buttonText))])])])])])},Ce=[],_e={props:{winner:String,outcome:String,buttonText:String,isPlayerReady:Boolean},methods:{ready:function(){this.$emit("player-ready")}}},we=_e,Pe=Object(u["a"])(we,he,Ce,!1,null,null,null),Re=Pe.exports,ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-12"},[a("div",{staticClass:"card bg-primary text-light"},[a("div",{staticClass:"card-body bg-dark text-center"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[e._m(0),a("hr",{staticClass:"border border-primary"}),a("div",{staticClass:"row"},e._l(e.players.filter((function(e){return"APPROVE"==e.vote})),(function(t,s){return a("div",{key:s,staticClass:"col-12 mt-2"},[a("div",{staticClass:"card-text bg-primary py-1"},[e._v(e._s(t.name))])])})),0)]),a("div",{staticClass:"col-6"},[e._m(1),a("hr",{staticClass:"border border-primary"}),a("div",{staticClass:"row"},e._l(e.players.filter((function(e){return"REJECT"==e.vote})),(function(t,s){return a("div",{key:s,staticClass:"col-12 mt-2"},[a("div",{staticClass:"card-text bg-primary py-1"},[e._v(e._s(t.name))])])})),0)])])]),a("div",{staticClass:"card-footer d-none d-lg-block"},[a("ReadyButton",e._g({attrs:{isPlayerReady:e.isPlayerReady}},e.$listeners))],1)]),a("div",{staticClass:"fixed-bottom"},[a("div",{staticClass:"card bg-primary rounded-0 d-none d-block d-lg-none"},[a("div",{staticClass:"card-body pb-5"},[a("ReadyButton",e._g({attrs:{isPlayerReady:e.isPlayerReady}},e.$listeners))],1)])])])},Ee=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("p",{staticClass:"card-text"},[e._v("Approve")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("p",{staticClass:"card-text"},[e._v("Reject")])])])}],xe={components:{ReadyButton:I},props:{players:Array,proposalAccepted:Boolean,questId:Number,isPlayerReady:Boolean}},Ie=xe,Se=(a("2cee"),Object(u["a"])(Ie,ke,Ee,!1,null,"778dbca8",null)),Oe=Se.exports,Ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-12"},[a("div",{staticClass:"card bg-primary text-light"},[a("div",{staticClass:"card-body py-3 bg-dark text-center"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},e._l(e.lines,(function(t,s){return a("p",{key:s,staticClass:"card-text"},[e._v(e._s(t))])})),0)])]),a("div",{staticClass:"card-footer d-none d-lg-block"},[a("ReadyButton",e._g({attrs:{isPlayerReady:e.isPlayerReady}},e.$listeners))],1)]),a("div",{staticClass:"fixed-bottom"},[a("div",{staticClass:"card bg-primary rounded-0 d-none d-block d-lg-none"},[a("div",{staticClass:"card-body pb-5"},[a("ReadyButton",e._g({attrs:{isPlayerReady:e.isPlayerReady}},e.$listeners))],1)])])])},Qe=[],Be={name:"Waiting",components:{ReadyButton:I},props:{lines:Array,isPlayerReady:Boolean}},$e=Be,qe=Object(u["a"])($e,Ae,Qe,!1,null,null,null),Te=qe.exports,Le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-12"},[a("div",{staticClass:"card bg-primary text-light"},[a("div",{staticClass:"card-body py-4 bg-dark"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 text-center"},e._l(e.body,(function(t,s){return a("p",{key:s},[e._v(e._s(t))])})),0)]),a("div",{staticClass:"row"},e._l(e.players,(function(t,s){return a("div",{key:s,class:["col-6 mt-3"]},[e.proposedPlayerIds.includes(t.id)?e._e():a("button",{class:["sim-select-player-button-"+s,"btn border-secondary text-white btn-block"],attrs:{disabled:e.isPlayerReady||e.requiredPlayers==e.proposedPlayerIds.length},on:{click:function(a){return e.onPlayerSelected(t.id)}}},[e._v(e._s(t.name))]),e.proposedPlayerIds.includes(t.id)?a("button",{class:["sim-select-player-button-"+s,"btn btn-info btn-block"],attrs:{disabled:e.isPlayerReady},on:{click:function(a){return e.onPlayerDeselected(t.id)}}},[e._v(e._s(t.name))]):e._e()])})),0)]),a("div",{staticClass:"card-footer d-none d-lg-block"},[a("ReadyButton",e._g({attrs:{isPlayerReady:e.isPlayerReady,disabled:e.requiredPlayers!=e.proposedPlayerIds.length}},e.$listeners))],1)]),a("div",{staticClass:"fixed-bottom"},[a("div",{staticClass:"card bg-primary rounded-0 d-none d-block d-lg-none"},[a("div",{staticClass:"card-body pb-5"},[a("ReadyButton",e._g({attrs:{isPlayerReady:e.isPlayerReady,disabled:e.requiredPlayers!=e.proposedPlayerIds.length}},e.$listeners))],1)])])])},Ne=[],Me={name:"PlayerSelection",components:{ReadyButton:I},props:{body:Array,players:Array,requiredPlayers:Number,isPlayerReady:Boolean,proposedPlayerIds:Array,onPlayerSelected:Function,onPlayerDeselected:Function}},je=Me,Ve=Object(u["a"])(je,Le,Ne,!1,null,null,null),Ye=Ve.exports,De={components:{QuestLog:ee,QuestResultReveal:ie,QuestProposalVoteInput:ye,QuestOutcomeVoteInput:fe,Outcome:Re,QuestProposalVoteResult:Oe,Waiting:Te,PlayerReadyBar:$,PlayerSelection:Ye},props:{game:Object,players:Array,playerId:String,team:String,role:String,vote:String,isPlayerReady:Boolean},computed:{playerIsOrganiser:function(){return this.playerId==this.game.currentQuest.organiserId},currentOrganiser:function(){var e=this;return this.players.find((function(t){return t.id==e.game.currentQuest.organiserId}))},proposedQuestPlayerNames:function(){for(var e=[],t=0;t<this.game.currentQuest.proposedPlayerIds.length;t++)e.push(this.getPlayerNameById(this.game.currentQuest.proposedPlayerIds[t]));return e},proposedQuestMemberNames:function(){var e=this;return this.game.currentQuest.proposedPlayerIds.map((function(t){return e.getPlayerNameById(t)}))}},methods:{getPlayerById:function(e){return this.players.find((function(t){return t.id==e}))},getPlayerNameById:function(e){var t=this.players.find((function(t){return t.id==e}));return t&&t.name?t.name:""},revealQuestResult:function(e){this.$emit("reveal-quest-result",e)}}},Ge=De,Ue=Object(u["a"])(Ge,W,H,!1,null,null,null),Fe=Ue.exports,We={name:"AvalonGame",components:{TextInput:C,Lobby:j,RoleReveal:F,Game:Fe,RoomClosed:m,Footer:v["a"]},props:{socket:{type:Object,default:function(){var e=null;return e=i.a.connect({upgrade:!1,transports:["websocket"]}),e.emit("connect-avalon"),e}},roomId:String},data:function(){return{room:null,players:[],team:null,role:null,vote:null,metadata:[]}},computed:{isPlayerReady:function(){var e=this,t=this.players.find((function(t){return t.id==e.getPlayerId()}));return t&&t.ready}},created:function(){var e=this;this.socket.on("players-updated",(function(t){e.players=t})),this.socket.on("player-updated",(function(t){var a=e.players.find((function(e){return e.id==t.id}));a.ready=t.ready})),this.socket.on("player-assigned",(function(t){e.team=t.team,e.role=t.role,e.vote=t.vote,e.metadata=t.metadata.slice()})),this.socket.on("room-updated",(function(t){e.room=t})),this.socket.emit("get-room",{roomId:this.roomId})},beforeRouteLeave:function(e,t,a){this.socket.close(),a()},methods:{getPageUrl:function(){return window.location.href},getDisconnectedPlayers:function(){var e=this;return this.room.disconnectedPlayerIds.filter((function(t){return e.room.playerIds.includes(t)})).map((function(t){return e.getPlayerById(t)})).filter((function(e){return e}))},getPlayerById:function(e){return this.players.find((function(t){return t.id==e}))},percivalEnabled:function(e){this.socket.emit("room-updated",{game:{settings:{percivalEnabled:e}}})},getPlayerId:function(){return this.socket.id},questLogEnabled:function(e){this.socket.emit("room-updated",{game:{settings:{questLogEnabled:e}}})},morganaEnabled:function(e){this.socket.emit("room-updated",{game:{settings:{morganaEnabled:e}}})},oberonEnabled:function(e){this.socket.emit("room-updated",{game:{settings:{oberonEnabled:e}}})},proposePlayerForQuest:function(e){this.socket.emit("room-updated",{game:{currentQuest:{playerIdToPropose:e}}})},revealQuestVote:function(e){this.socket.emit("room-updated",{game:{currentQuest:{voteToReveal:e}}})},unproposePlayerForQuest:function(e){this.socket.emit("room-updated",{game:{currentQuest:{playerIdToUnpropose:e}}})},selectMerlinForId:function(e){this.socket.emit("room-updated",{game:{currentQuest:{merlinIdToPropose:e}}})},unselectMerlinForId:function(e){this.socket.emit("room-updated",{game:{currentQuest:{merlinIdToUnpropose:e}}})},joinSession:function(e){this.socket.emit("player-joined",{name:e,roomId:this.roomId})},rejoinSession:function(e){this.socket.emit("player-rejoined",{id:e,roomId:this.roomId})},playerApproveVote:function(e){this.socket.emit("player-updated",{approveProposal:e})},playerSucceedQuest:function(e){this.socket.emit("player-updated",{succeedQuest:e})},readyUp:function(){this.socket.emit("player-updated",{ready:!0})},readyUpWithVote:function(e){this.socket.emit("player-updated",{ready:!0,vote:e})},notReady:function(){this.socket.emit("player-updated",{ready:!1})},copyLinkAndCode:function(e,t){navigator.clipboard.writeText("Hey, "+t+"! It looks like you left the game. Follow this link: "+window.location.href+" and enter the code: "+e);var a="copyLinkAndCodeButton"+e;document.getElementById(a).classList.remove("btn-secondary"),document.getElementById(a).classList.add("btn-primary"),document.getElementById(a).innerHTML="Copied!",setTimeout((function(){document.getElementById(a).classList.add("btn-secondary"),document.getElementById(a).classList.remove("btn-primary"),document.getElementById(a).innerHTML="Copy link + code"}),400)}}},He=We,Je=Object(u["a"])(He,s,r,!1,null,null,null);t["default"]=Je.exports},"7db0":function(e,t,a){"use strict";var s=a("23e7"),r=a("b727").find,o=a("44d2"),i=a("ae40"),n="find",l=!0,d=i(n);n in[]&&Array(1)[n]((function(){l=!1})),s({target:"Array",proto:!0,forced:l||!d},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o(n)},8418:function(e,t,a){"use strict";var s=a("c04e"),r=a("9bf2"),o=a("5c6c");e.exports=function(e,t,a){var i=s(t);i in e?r.f(e,i,o(0,a)):e[i]=a}},8648:function(e,t,a){"use strict";a("9c51")},"869e":function(e,t,a){"use strict";a("9a3c")},"97b0":function(e,t,a){"use strict";a("a75f")},"9a3c":function(e,t,a){},"9c51":function(e,t,a){},a75f:function(e,t,a){},ab13:function(e,t,a){var s=a("b622"),r=s("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[r]=!1,"/./"[e](t)}catch(s){}}return!1}},ae40:function(e,t,a){var s=a("83ab"),r=a("d039"),o=a("5135"),i=Object.defineProperty,n={},l=function(e){throw e};e.exports=function(e,t){if(o(n,e))return n[e];t||(t={});var a=[][e],d=!!o(t,"ACCESSORS")&&t.ACCESSORS,c=o(t,0)?t[0]:l,u=o(t,1)?t[1]:void 0;return n[e]=!!a&&!r((function(){if(d&&!s)return!0;var e={length:-1};d?i(e,1,{enumerable:!0,get:l}):e[1]=1,a.call(e,c,u)}))}},ae7f:function(e,t,a){},b0c0:function(e,t,a){var s=a("83ab"),r=a("9bf2").f,o=Function.prototype,i=o.toString,n=/^\s*function ([^ (]*)/,l="name";s&&!(l in o)&&r(o,l,{configurable:!0,get:function(){try{return i.call(this).match(n)[1]}catch(e){return""}}})},b727:function(e,t,a){var s=a("0366"),r=a("44ad"),o=a("7b0b"),i=a("50c4"),n=a("65f0"),l=[].push,d=function(e){var t=1==e,a=2==e,d=3==e,c=4==e,u=6==e,y=7==e,m=5==e||u;return function(p,b,v,g){for(var f,h,C=o(p),_=r(C),w=s(b,v,3),P=i(_.length),R=0,k=g||n,E=t?k(p,P):a||y?k(p,0):void 0;P>R;R++)if((m||R in _)&&(f=_[R],h=w(f,R,C),e))if(t)E[R]=h;else if(h)switch(e){case 3:return!0;case 5:return f;case 6:return R;case 2:l.call(E,f)}else switch(e){case 4:return!1;case 7:l.call(E,f)}return u?-1:d||c?c:E}};e.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterOut:d(7)}},caad:function(e,t,a){"use strict";var s=a("23e7"),r=a("4d64").includes,o=a("44d2"),i=a("ae40"),n=i("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:!n},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},d81d:function(e,t,a){"use strict";var s=a("23e7"),r=a("b727").map,o=a("1dde"),i=a("ae40"),n=o("map"),l=i("map");s({target:"Array",proto:!0,forced:!n||!l},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(e,t,a){var s=a("c6b6");e.exports=Array.isArray||function(e){return"Array"==s(e)}},fb6a:function(e,t,a){"use strict";var s=a("23e7"),r=a("861d"),o=a("e8b5"),i=a("23cb"),n=a("50c4"),l=a("fc6a"),d=a("8418"),c=a("b622"),u=a("1dde"),y=a("ae40"),m=u("slice"),p=y("slice",{ACCESSORS:!0,0:0,1:2}),b=c("species"),v=[].slice,g=Math.max;s({target:"Array",proto:!0,forced:!m||!p},{slice:function(e,t){var a,s,c,u=l(this),y=n(u.length),m=i(e,y),p=i(void 0===t?y:t,y);if(o(u)&&(a=u.constructor,"function"!=typeof a||a!==Array&&!o(a.prototype)?r(a)&&(a=a[b],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return v.call(u,m,p);for(s=new(void 0===a?Array:a)(g(p-m,0)),c=0;m<p;m++,c++)m in u&&d(s,c,u[m]);return s.length=c,s}})}}]);
//# sourceMappingURL=chunk-53957c80.875d7da0.js.map