(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-57666158"],{"298a":function(t,e,s){"use strict";var a=s("5c67"),n=s.n(a);n.a},"5c67":function(t,e,s){},"65f0":function(t,e,s){var a=s("861d"),n=s("e8b5"),i=s("b622"),r=i("species");t.exports=function(t,e){var s;return n(t)&&(s=t.constructor,"function"!=typeof s||s!==Array&&!n(s.prototype)?a(s)&&(s=s[r],null===s&&(s=void 0)):s=void 0),new(void 0===s?Array:s)(0===e?0:e)}},7921:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",attrs:{id:"app"}},[s("div",{staticClass:"row",class:{visible:"nameInputScreen"==t.screen,hidden:"nameInputScreen"!=t.screen}},[s("NameInput",{attrs:{buttonText:"Join"},on:{submit:t.joinSession}})],1),s("div",{staticClass:"row",class:{visible:"lobbyScreen"===t.screen,hidden:"lobbyScreen"!==t.screen}},[s("Lobby",{attrs:{socket:t.socket,roomId:t.roomId}})],1),s("div",{staticClass:"row",class:{visible:"revealScreen"===t.screen,hidden:"revealScreen"!==t.screen}},[t._m(0)])])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"row mb-4"},[s("div",{staticClass:"col-md-8 offset-md-2"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body text-center"},[s("h3",{staticClass:"card-title"},[t._v("You are a guard")]),s("p",{staticClass:"card-text"},[t._v("You are in Good, and that's all you know.")])])])])]),s("div",{staticClass:"row mb-4"},[s("div",{staticClass:"col-md-8 offset-md-2"},[s("div",{staticClass:"card"},[s("h5",{staticClass:"card-header"},[t._v("Things you need to know about your team")]),s("div",{staticClass:"card-body"},[s("p",{staticClass:"card-text"},[t._v("You are in Good, along with Percival, Merlin and two other guards.")]),s("p",{staticClass:"card-text"},[t._v("You do not know the identity of anyone, or what team they are in.")]),s("p",{staticClass:"card-text"},[t._v("The goal of Good is to successfully complete three out of five quests and help Merlin avoid identification by the Assassin.")]),s("p",{staticClass:"card-text"},[t._v("You only have the option to succeed quests that you are sent on, however, Evil team members can choose to succeed or sabotage quests they are sent on.")])])])])]),s("div",{staticClass:"row mb-4"},[s("div",{staticClass:"col-md-8 offset-md-2"},[s("div",{staticClass:"card"},[s("h5",{staticClass:"card-header"},[t._v("Things you need to know about the game")]),s("div",{staticClass:"card-body"},[s("p",{staticClass:"card-text"},[t._v("There are three minions in Evil, along with Morgana and Oberon.")]),s("p",{staticClass:"card-text"},[t._v("Like guards, minions do not know the identity of anyone or what team they're in.")]),s("p",{staticClass:"card-text"},[t._v("Merlin knows which team each person is in, but does not know anyone's role.")]),s("p",{staticClass:"card-text"},[t._v("Percival knows the identity of Merlin, however Morgana is also disguised as Merlin.")]),s("p",{staticClass:"card-text"},[t._v("Nobody knows the identity of Oberon.")]),s("p",{staticClass:"card-text"},[t._v("After three successful quests the Assassin will have an opportunity to identify Merlin.")]),s("p",{staticClass:"card-text"},[t._v("Evil will take the win if the Assassin manages to successfully identify Merlin.")]),s("p",{staticClass:"card-text"},[t._v("Evil will take the win if they manage to sabotage three out of five quests.")]),s("p",{staticClass:"card-text"},[t._v("Evil will take the win if five team proposals are rejected for a single quest.")]),s("p",{staticClass:"card-text"},[t._v("Don't worry if this is your first time playing, more instructions and explanation will be provided as you play.")])])])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8 offset-md-2"},[s("button",{staticClass:"btn btn-lg btn-success btn-block"},[t._v("Ready up")])])])])}],i=(s("b0c0"),s("8055")),r=s.n(i),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-4 offset-md-4"},[s("div",{staticClass:"input-group input-group-lg"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Name","aria-label":"Name","aria-describedby":"button-start",maxlength:"10",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-dark",attrs:{type:"button",id:"button-start"},on:{click:t.submit}},[t._v(t._s(t.buttonText))])])])])},c=[],l={name:"NameInput",props:{buttonText:String},data:function(){return{name:""}},methods:{submit:function(){this.$emit("submit",this.name)}}},d=l,u=s("2877"),v=Object(u["a"])(d,o,c,!1,null,null,null),b=v.exports,m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12"},[t._m(0),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12 mb-3"},[s("div",{staticClass:"card"},[s("h5",{staticClass:"card-header"},[t._v("Game settings")]),s("div",{staticClass:"card-body"},[t._m(1),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4 mb-3"},[s("button",{class:["btn","btn-block",t.percivalSelected?"btn-info":"btn-outline-info"],attrs:{type:"button",disabled:!t.isRoomOwner},on:{click:function(e){return t.selectPercival()}}},[s("h5",[t._v("Percival")]),t._v("Knows Merlin's identity ")])]),s("div",{staticClass:"col-md-4 mb-3"},[s("button",{class:["btn","btn-block",t.morganaSelected?"btn-danger":"btn-outline-danger"],attrs:{type:"button",disabled:!t.isRoomOwner},on:{click:function(e){return t.selectMorgana()}}},[s("h5",[t._v("Morgana")]),t._v("Appears as a second Merlin to Percival ")])]),s("div",{staticClass:"col-md-4"},[s("button",{class:["btn","btn-block",t.oberonSelected?"btn-danger":"btn-outline-danger"],attrs:{type:"button",disabled:!t.isRoomOwner},on:{click:function(e){return t.selectOberon()}}},[s("h5",[t._v("Oberon")]),t._v("Is only known to Merlin ")])])])])])])]),s("div",{staticClass:"row mt-5 text-center"},[s("div",{staticClass:"col-12"},[t.playersStillNeeded>0?s("p",{staticClass:"lead"},[t._v("Waiting for "+t._s(t.playersStillNeeded)+" more "+t._s(1==t.playersStillNeeded?"player":"players")+"...")]):t._e(),0==t.playersStillNeeded?s("p",{staticClass:"lead"},[t._v(" Waiting for all players to click "),s("span",{staticClass:"text-success"},[t._v("Ready")]),t._v(". ")]):t._e()])]),s("div",{staticClass:"row"},[t._l(t.players,(function(e){return s("div",{key:e.id,staticClass:"col-6 col-md-4 mb-3 text-truncate text-center"},[s("div",{class:[e.ready?t.readyClasses:"card"]},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"card-text lead"},[t._v(t._s(e.name))])])])])})),t._l(t.playersStillNeeded,(function(e){return s("div",{key:e,staticClass:"col-6 col-md-4 mb-3 text-truncate text-center"},[t._m(2,!0)])})),t._l(t.maxPlayers-(t.players.length+t.playersStillNeeded),(function(e){return s("div",{key:e+100,staticClass:"col-6 col-md-4 mb-3 text-truncate text-center"},[t._m(3,!0)])}))],2),s("div",{staticClass:"row mt-5"},[s("div",{staticClass:"col-md-4 offset-md-2 mb-3"},[t.isPlayerReady?t._e():s("button",{staticClass:"btn btn-success btn-lg btn-block",attrs:{type:"button"},on:{click:function(e){return t.readyUp()}}},[t._v("Ready up")]),t.isPlayerReady?s("button",{staticClass:"btn btn-warning btn-lg btn-block",attrs:{type:"button"},on:{click:function(e){return t.notReady()}}},[t._v("Cancel")]):t._e()]),s("div",{staticClass:"col-md-4"},[s("button",{staticClass:"btn btn-danger btn-lg btn-block",attrs:{type:"button"},on:{click:function(e){return t.leave()}}},[t._v("Leave")])])])])},p=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row mb-5"},[s("div",{staticClass:"col-md-12 text-center"},[s("h1",{staticClass:"display-4 pb-5"},[t._v("The Resistance: Avalon")]),s("p",{staticClass:"lead"},[t._v("The following screen will reveal which team you are in and which role you will play.")]),s("p",{staticClass:"lead"},[t._v("Further instruction and explanation will be provided as you play through the game.")]),s("p",{staticClass:"lead"},[t._v("The game will start when every one is ready.")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 mb-3"},[s("button",{staticClass:"btn btn-info btn-block",attrs:{type:"button",disabled:""}},[s("h5",[t._v("Merlin")]),t._v("Can see all players in Good ")])]),s("div",{staticClass:"col-md-6 mb-3"},[s("button",{staticClass:"btn btn-danger btn-block",attrs:{type:"button",disabled:""}},[s("h5",[t._v("Assassin")]),t._v("Has an opportunity to steal the win after three successful quests ")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"card-text lead text-muted text-center"},[t._v("Required")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"card-text lead text-muted text-center"},[t._v("Optional")])])])}],h=(s("7db0"),s("ac1f"),s("5319"),{props:{socket:Object,roomId:String},data:function(){return{name:"",roomOwner:"",minPlayers:5,maxPlayers:10,players:[],currentMemberCount:0,readyClasses:"card bg-success text-white",percivalSelected:!1,morganaSelected:!1,oberonSelected:!1}},created:function(){var t=this;this.socket.on("room-updated",(function(e){t.players=e.players,t.roomOwner=e.owner,t.percivalSelected=e.settings.percivalSelected,t.morganaSelected=e.settings.morganaSelected,t.oberonSelected=e.settings.oberonSelected})),this.socket.on("player-updated",(function(e){var s=t.players.find((function(t){return t.id==e.id}));for(var a in s)s[a]=e[a]}))},computed:{isPlayerReady:function(){var t=this,e=this.players.find((function(e){return e.id==t.socket.id}));return e&&e.ready},isRoomOwner:function(){return this.socket.id==this.roomOwner},playersStillNeeded:function(){return this.players.length>=this.minPlayers?0:this.minPlayers-this.players.length}},methods:{selectPercival:function(){this.percivalSelected?this.percivalSelected=!1:this.percivalSelected=!0,this.emitSettingsChange()},selectMorgana:function(){this.morganaSelected?this.morganaSelected=!1:this.morganaSelected=!0,this.emitSettingsChange()},selectOberon:function(){this.oberonSelected?this.oberonSelected=!1:this.oberonSelected=!0,this.emitSettingsChange()},emitSettingsChange:function(){this.socket.emit("update-settings",{roomId:this.roomId,settings:{oberonSelected:this.oberonSelected,morganaSelected:this.morganaSelected,percivalSelected:this.percivalSelected}})},readyUp:function(){this.socket.emit("player-ready")},notReady:function(){this.socket.emit("player-not-ready")},leave:function(){this.socket.disconnect(),this.$router.replace({name:"Avalon"})}}}),f=h,y=Object(u["a"])(f,m,p,!1,null,"ac6887bc",null),C=y.exports,g={name:"App",components:{NameInput:b,Lobby:C},props:{socket:{type:Object,default:function(){var t=null;return t=r.a.connect({upgrade:!1,transports:["websocket"]}),t}},roomId:String},data:function(){return{name:"",screen:"nameInputScreen"}},methods:{joinSession:function(t){this.name=t,this.screen="lobbyScreen",this.socket.emit("player-join",{name:this.name,roomId:this.roomId})}}},_=g,w=(s("298a"),Object(u["a"])(_,a,n,!1,null,"24ea8371",null));e["default"]=w.exports},"7db0":function(t,e,s){"use strict";var a=s("23e7"),n=s("b727").find,i=s("44d2"),r=s("ae40"),o="find",c=!0,l=r(o);o in[]&&Array(1)[o]((function(){c=!1})),a({target:"Array",proto:!0,forced:c||!l},{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),i(o)},ae40:function(t,e,s){var a=s("83ab"),n=s("d039"),i=s("5135"),r=Object.defineProperty,o={},c=function(t){throw t};t.exports=function(t,e){if(i(o,t))return o[t];e||(e={});var s=[][t],l=!!i(e,"ACCESSORS")&&e.ACCESSORS,d=i(e,0)?e[0]:c,u=i(e,1)?e[1]:void 0;return o[t]=!!s&&!n((function(){if(l&&!a)return!0;var t={length:-1};l?r(t,1,{enumerable:!0,get:c}):t[1]=1,s.call(t,d,u)}))}},b0c0:function(t,e,s){var a=s("83ab"),n=s("9bf2").f,i=Function.prototype,r=i.toString,o=/^\s*function ([^ (]*)/,c="name";a&&!(c in i)&&n(i,c,{configurable:!0,get:function(){try{return r.call(this).match(o)[1]}catch(t){return""}}})},b727:function(t,e,s){var a=s("0366"),n=s("44ad"),i=s("7b0b"),r=s("50c4"),o=s("65f0"),c=[].push,l=function(t){var e=1==t,s=2==t,l=3==t,d=4==t,u=6==t,v=5==t||u;return function(b,m,p,h){for(var f,y,C=i(b),g=n(C),_=a(m,p,3),w=r(g.length),S=0,k=h||o,x=e?k(b,w):s?k(b,0):void 0;w>S;S++)if((v||S in g)&&(f=g[S],y=_(f,S,C),t))if(e)x[S]=y;else if(y)switch(t){case 3:return!0;case 5:return f;case 6:return S;case 2:c.call(x,f)}else if(d)return!1;return u?-1:l||d?d:x}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},e8b5:function(t,e,s){var a=s("c6b6");t.exports=Array.isArray||function(t){return"Array"==a(t)}}}]);
//# sourceMappingURL=chunk-57666158.9ca668b0.js.map