(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-945c7ede"],{"359f":function(t,e,a){},7921:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"app"}},[a("div",{staticClass:"row",class:{visible:"nameInputScreen"==t.screen,hidden:"nameInputScreen"!=t.screen}},[a("NameInput",{attrs:{buttonText:"Join"},on:{submit:t.joinSession}})],1),a("div",{staticClass:"row",class:{visible:"lobbyScreen"===t.screen,hidden:"lobbyScreen"!==t.screen}},[a("div",{staticClass:"col-12"},[t._m(0),a("div",{staticClass:"row"},t._l(t.members,(function(e){return a("div",{key:e.id,staticClass:"col-6 col-md-4 mb-3 text-truncate text-center"},[e.empty?t._e():a("div",{class:[e.ready?t.readyClasses:"card"]},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"card-text lead"},[t._v(t._s(e.name))])])]),e.empty?a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"card-text lead text-muted text-center"},[t._v(t._s(e.name))])])]):t._e()])})),0),a("div",{staticClass:"row mt-5 text-center"},[a("div",{staticClass:"col-12"},[t.playersStillNeeded()>0?a("p",{staticClass:"lead"},[t._v("Waiting for "+t._s(t.playersStillNeeded())+" more "+t._s(1==t.playersStillNeeded()?"player":"players")+"...")]):t._e(),0==t.playersStillNeeded()?a("p",{staticClass:"lead"},[t._v(" Waiting for all players to click "),a("span",{staticClass:"text-success"},[t._v("Ready")]),t._v(". ")]):t._e()])]),a("div",{staticClass:"row mt-5"},[a("div",{staticClass:"col-md-4 offset-md-2 mb-3"},[t.playerReady()?t._e():a("button",{staticClass:"btn btn-success btn-lg btn-block",attrs:{type:"button"},on:{click:function(e){return t.readyUp()}}},[t._v("Ready up")]),t.playerReady()?a("button",{staticClass:"btn btn-warning btn-lg btn-block",attrs:{type:"button"},on:{click:function(e){return t.notReady()}}},[t._v("Cancel")]):t._e()]),t._m(1)])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mb-5"},[a("div",{staticClass:"col-md-12 text-center"},[a("h1",{staticClass:"display-4 pb-5"},[t._v("The Resistance: Avalon")]),a("p",{staticClass:"lead"},[t._v("The following screen will reveal which team you are in and what role you will play.")]),a("p",{staticClass:"lead"},[t._v("Further instruction and explanation will be provided as you play through the game.")]),a("p",{staticClass:"lead"},[t._v("The game will start when every one is ready.")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-4"},[a("button",{staticClass:"btn btn-danger btn-lg btn-block",attrs:{type:"button"}},[t._v("Leave")])])}],r=(a("b0c0"),a("8055")),i=a.n(r),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-4 offset-md-4"},[a("div",{staticClass:"input-group input-group-lg"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Name","aria-label":"Name","aria-describedby":"button-start",maxlength:"10",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-dark",attrs:{type:"button",id:"button-start"},on:{click:t.submit}},[t._v(t._s(t.buttonText))])])])])},l=[],o={name:"NameInput",props:{buttonText:String},data:function(){return{name:""}},methods:{submit:function(){this.$emit("submit",this.name)}}},d=o,m=a("2877"),u=Object(m["a"])(d,c,l,!1,null,null,null),p=u.exports,b={name:"App",components:{NameInput:p},props:{socket:{type:Object,default:function(){var t=null;return t=i.a.connect({upgrade:!1,transports:["websocket"]}),t}},roomId:String},created:function(){var t=this;this.socket.on("room-updated",(function(e){for(var a in t.roomOwner=e.members[e.owner],t.members=[],e.members){var s={id:a,name:e.members[a].name,ready:e.members[a].ready};t.socket.id==a&&(t.currentPlayer=s),t.members.push(s)}t.currentMemberCount=t.members.length;for(var n=t.playersStillNeeded(),r=t.maxPlayers-(t.members.length+n),i=0;i<n;i++)t.members.push({id:i,name:"Required",empty:!0});for(var c=0;c<r;c++)t.members.push({id:c+100,name:"Optional",empty:!0})}))},data:function(){return{name:"",screen:"nameInputScreen",minPlayers:5,maxPlayers:10,members:[],currentMemberCount:0,roomOwner:{},readyClasses:"card bg-success text-white",currentPlayer:{}}},methods:{joinSession:function(t){this.name=t,this.screen="lobbyScreen",this.socket.emit("player-join",{name:this.name,roomId:this.roomId})},playersStillNeeded:function(){return this.currentMemberCount>=this.minPlayers?0:this.minPlayers-this.currentMemberCount},readyUp:function(){this.socket.emit("player-ready",{roomId:this.roomId})},notReady:function(){this.socket.emit("player-not-ready",{roomId:this.roomId})},playerReady:function(){return this.currentPlayer.ready}}},y=b,v=(a("d63e"),Object(m["a"])(y,s,n,!1,null,"ffa23800",null));e["default"]=v.exports},b0c0:function(t,e,a){var s=a("83ab"),n=a("9bf2").f,r=Function.prototype,i=r.toString,c=/^\s*function ([^ (]*)/,l="name";s&&!(l in r)&&n(r,l,{configurable:!0,get:function(){try{return i.call(this).match(c)[1]}catch(t){return""}}})},d63e:function(t,e,a){"use strict";var s=a("359f"),n=a.n(s);n.a}}]);
//# sourceMappingURL=chunk-945c7ede.95b044e1.js.map