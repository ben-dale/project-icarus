(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cd9c1676"],{"0d38":function(t,e,a){"use strict";var s=a("90df"),n=a.n(s);n.a},"65f0":function(t,e,a){var s=a("861d"),n=a("e8b5"),o=a("b622"),i=o("species");t.exports=function(t,e){var a;return n(t)&&(a=t.constructor,"function"!=typeof a||a!==Array&&!n(a.prototype)?s(a)&&(a=a[i],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===e?0:e)}},7921:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"app"}},[a("div",{staticClass:"row",class:{visible:!t.room,hidden:t.room}},[a("NameInput",{attrs:{buttonText:"Join"},on:{submit:t.joinSession}})],1),a("div",{staticClass:"row",class:{visible:t.room&&"LOBBY"===t.room.game.screen,hidden:!t.room||"LOBBY"!==t.room.game.screen}},[a("Lobby",{attrs:{socket:t.socket,room:t.room,players:t.players,isPlayerReady:t.isPlayerReady},on:{percivalEnabled:t.percivalEnabled,oberonEnabled:t.oberonEnabled,morganaEnabled:t.morganaEnabled,readyUp:t.readyUp,notReady:t.notReady}})],1),a("div",{staticClass:"row",class:{visible:t.room&&"ROLE_REVEAL"===t.room.game.screen,hidden:!t.room||"ROLE_REVEAL"!==t.room.game.screen}},[a("Reveal",{attrs:{players:t.players,isPlayerReady:t.isPlayerReady},on:{readyUp:t.readyUp,notReady:t.notReady}})],1)])},n=[],o=(a("7db0"),a("b0c0"),a("8055")),i=a.n(o),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-4 offset-md-4"},[a("div",{staticClass:"input-group input-group-lg"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Name","aria-label":"Name","aria-describedby":"button-start",maxlength:"10",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-dark",attrs:{type:"button",id:"button-start"},on:{click:t.submit}},[t._v(t._s(t.buttonText))])])])])},l=[],c={name:"NameInput",props:{buttonText:String},data:function(){return{name:""}},methods:{submit:function(){this.$emit("submit",this.name)}}},d=c,u=a("2877"),b=Object(u["a"])(d,r,l,!1,null,null,null),m=b.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card"},[a("h5",{staticClass:"card-header text-center"},[t._v("Game settings")]),a("div",{staticClass:"card-body"},[t._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 mb-3"},[a("button",{class:["btn","btn-block",t.room&&t.room.game.settings.percivalEnabled?"btn-info":"btn-light",t.room&&t.room.game.settings.percivalEnabled?"border-info":"border"],attrs:{type:"button",disabled:!t.isRoomOwner},on:{click:function(e){return t.percivalEnabled(!t.room.game.settings.percivalEnabled)}}},[a("h5",[t._v("Percival")]),t._v("Knows Merlin's identity ")])]),a("div",{staticClass:"col-md-4 mb-3"},[a("button",{class:["btn","btn-block",t.room&&t.room.game.settings.morganaEnabled?"btn-danger":"btn-light",t.room&&t.room.game.settings.morganaEnabled?"border-danger":"border"],attrs:{type:"button",disabled:!t.isRoomOwner},on:{click:function(e){return t.morganaEnabled(!t.room.game.settings.morganaEnabled)}}},[a("h5",[t._v("Morgana")]),t._v("Appears as a second Merlin to Percival ")])]),a("div",{staticClass:"col-md-4"},[a("button",{class:["btn","btn-block",t.room&&t.room.game.settings.oberonEnabled?"btn-danger":"btn-light",t.room&&t.room.game.settings.oberonEnabled?"border-danger":"border"],attrs:{type:"button",disabled:!t.isRoomOwner},on:{click:function(e){return t.oberonEnabled(!t.room.game.settings.oberonEnabled)}}},[a("h5",[t._v("Oberon")]),t._v("Invisible to all but Merlin ")])])])])])])]),a("div",{staticClass:"row pt-4 pb-3"},[a("div",{staticClass:"col-md-12 text-center"},[a("p",{staticClass:"lead"},[t._v(" Further instruction and explanation will be provided as you play through The Resistance: Avalon. ")]),a("p",{staticClass:"lead"},[t._v("The next screen will reveal which team you are in and which role you will play.")]),t.playersStillNeeded>0?a("p",{staticClass:"lead"},[t._v("We are still waiting for "+t._s(t.playersStillNeeded)+" more "+t._s(1==t.playersStillNeeded?"player":"players")+" to join the lobby.")]):t._e(),0==t.playersStillNeeded?a("p",{staticClass:"lead"},[t._v(" Waiting for all players to click "),a("span",{staticClass:"badge badge-success"},[t._v("Ready")])]):t._e()])]),a("div",{staticClass:"row mb-5"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row text-center"},[t._l(t.players,(function(e){return a("div",{key:e.id,staticClass:"col-md-3"},[e.ready?a("div",{staticClass:"bg-success text-white pt-2 pb-1 mb-3 border border-success rounded"},[a("h5",[t._v(t._s(e.name))])]):t._e(),e.ready?t._e():a("div",{staticClass:"text-dark pt-2 pb-1 mb-3 border bg-light rounded"},[a("h5",[t._v(t._s(e.name))])])])})),t._l(t.playersStillNeeded,(function(e){return a("div",{key:e,staticClass:"col-md-3"},[t._m(1,!0)])})),t._l(t.maxPlayers-(t.players.length+t.playersStillNeeded),(function(e){return a("div",{key:e+100,staticClass:"col-md-3"},[t._m(2,!0)])}))],2)])])])]),a("div",{staticClass:"row mb-5"},[a("div",{staticClass:"col-md-6 offset-md-3"},[t.isPlayerReady?t._e():a("button",{staticClass:"btn btn-success btn-lg btn-block",attrs:{type:"button"},on:{click:function(e){return t.readyUp()}}},[t._v("Ready")]),t.isPlayerReady?a("button",{staticClass:"btn btn-warning btn-lg btn-block",attrs:{type:"button"},on:{click:function(e){return t.notReady()}}},[t._v("Cancel")]):t._e()])])])},v=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 mb-3"},[a("button",{staticClass:"btn btn-info btn-block",attrs:{type:"button",disabled:""}},[a("h5",[t._v("Merlin")]),t._v("Knows which team each player is a member of ")])]),a("div",{staticClass:"col-md-6 mb-3"},[a("button",{staticClass:"btn btn-danger btn-block",attrs:{type:"button",disabled:""}},[a("h5",[t._v("Assassin")]),t._v("Has an opportunity to steal the win after three successful quests ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-secondary pt-2 pb-1 mb-3 border rounded"},[a("h5",[t._v("Required")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-secondary pt-2 pb-1 mb-3 border rounded"},[a("h5",[t._v("Optional")])])}],y={props:{socket:Object,room:Object,players:{type:Array,default:function(){return[]}},isPlayerReady:Boolean},data:function(){return{name:"",minPlayers:5,maxPlayers:10,currentMemberCount:0,readyClasses:"card bg-success text-white"}},computed:{isRoomOwner:function(){return console.log(this.room),this.room&&this.socket.id==this.room.ownerId},playersStillNeeded:function(){return this.players.length>=this.minPlayers?0:this.minPlayers-this.players.length}},methods:{percivalEnabled:function(t){this.$emit("percivalEnabled",t)},morganaEnabled:function(t){this.$emit("morganaEnabled",t)},oberonEnabled:function(t){this.$emit("oberonEnabled",t)},readyUp:function(){this.$emit("readyUp")},notReady:function(){this.$emit("notReady")}}},f=y,h=Object(u["a"])(f,p,v,!1,null,"c7873da8",null),g=h.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-12"},[t._m(0),t._m(1),t._m(2),a("div",{staticClass:"row mb-4"},[a("div",{staticClass:"col-md-8 offset-md-2"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row text-center"},t._l(t.players,(function(e){return a("div",{key:e.id,staticClass:"col-md-3"},[e.ready?a("div",{staticClass:"bg-success text-white pt-2 pb-1 mb-3 border border-success rounded"},[a("h5",[t._v(t._s(e.name))])]):t._e(),e.ready?t._e():a("div",{staticClass:"text-dark pt-2 pb-1 mb-3 border rounded"},[a("h5",[t._v(t._s(e.name))])])])})),0)])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8 offset-md-2"},[t.isPlayerReady?t._e():a("button",{staticClass:"btn btn-success btn-lg btn-block",attrs:{type:"button"},on:{click:function(e){return t.readyUp()}}},[t._v("Ready")]),t.isPlayerReady?a("button",{staticClass:"btn btn-warning btn-lg btn-block",attrs:{type:"button"},on:{click:function(e){return t.notReady()}}},[t._v("Cancel")]):t._e()])])])},_=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mb-4"},[a("div",{staticClass:"col-md-8 offset-md-2"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body text-center"},[a("h3",{staticClass:"card-title"},[t._v("You are a guard")]),a("p",{staticClass:"card-text"},[t._v("You are in Good, and that's all you know.")])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mb-4"},[a("div",{staticClass:"col-md-8 offset-md-2"},[a("div",{staticClass:"card"},[a("h5",{staticClass:"card-header"},[t._v("Things you need to know about your team")]),a("div",{staticClass:"card-body"},[a("p",{staticClass:"card-text"},[t._v("You are in Good, along with Percival, Merlin and two other guards.")]),a("p",{staticClass:"card-text"},[t._v("You do not know the identity of anyone, or what team they are in.")]),a("p",{staticClass:"card-text"},[t._v("The goal of Good is to successfully complete three out of five quests and help Merlin avoid identification by the Assassin.")]),a("p",{staticClass:"card-text"},[t._v("You only have the option to succeed quests that you are sent on, however, Evil team members can choose to succeed or sabotage quests they are sent on.")])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mb-4"},[a("div",{staticClass:"col-md-8 offset-md-2"},[a("div",{staticClass:"card"},[a("h5",{staticClass:"card-header"},[t._v("Things you need to know about the game")]),a("div",{staticClass:"card-body"},[a("p",{staticClass:"card-text"},[t._v("There are three minions in Evil, along with Morgana and Oberon.")]),a("p",{staticClass:"card-text"},[t._v("Evil team members know who is in Evil and the identity of the Assassin.")]),a("p",{staticClass:"card-text"},[t._v("Merlin knows which team each person is in, but does not know anyone's role.")]),a("p",{staticClass:"card-text"},[t._v("Percival knows the identity of Merlin, however Morgana is also disguised as Merlin.")]),a("p",{staticClass:"card-text"},[t._v("Nobody knows the identity of Oberon.")]),a("p",{staticClass:"card-text"},[t._v("After three successful quests the Assassin will have an opportunity to identify Merlin.")]),a("p",{staticClass:"card-text"},[t._v("Evil will take the win if the Assassin manages to successfully identify Merlin.")]),a("p",{staticClass:"card-text"},[t._v("Evil will take the win if they manage to sabotage three out of five quests.")]),a("p",{staticClass:"card-text"},[t._v("Evil will take the win if five team proposals are rejected for a single quest.")]),a("p",{staticClass:"card-text"},[t._v("Don't worry if this is your first time playing, more instructions and explanation will be provided as you play.")])])])])])}],w={props:{team:String,role:String,ready:Boolean,socket:Object,players:{type:Array,default:function(){return[{id:1,name:"ben"},{id:2,name:"ben"},{id:3,name:"ben"},{id:4,name:"ben"}]}},isPlayerReady:Boolean},methods:{readyUp:function(){this.$emit("readyUp")},notReady:function(){this.$emit("notReady")}}},k=w,E=Object(u["a"])(k,C,_,!1,null,null,null),x=E.exports,R={name:"App",components:{NameInput:m,Lobby:g,Reveal:x},props:{socket:{type:Object,default:function(){var t=null;return t=i.a.connect({upgrade:!1,transports:["websocket"]}),t}},roomId:String},data:function(){return{room:null,players:[],team:null,role:null}},computed:{isPlayerReady:function(){var t=this,e=this.players.find((function(e){return e.id==t.socket.id}));return e&&e.ready}},created:function(){var t=this;this.socket.on("players-updated",(function(e){console.log(e),t.players=e})),this.socket.on("player-updated",(function(e){console.log(e);var a=t.players.find((function(t){return t.id==e.id}));for(var s in a)a[s]=e[s]})),this.socket.on("player-assigned",(function(e){console.log(e),t.team=e.team,t.role=e.role})),this.socket.on("room-updated",(function(e){console.log(e),t.room=e}))},methods:{percivalEnabled:function(t){this.socket.emit("room-updated",{game:{settings:{percivalEnabled:t}}})},morganaEnabled:function(t){this.socket.emit("room-updated",{game:{settings:{morganaEnabled:t}}})},oberonEnabled:function(t){this.socket.emit("room-updated",{game:{settings:{oberonEnabled:t}}})},proposeTeam:function(t){this.socket.emit("propose-team",{memberIds:t})},joinSession:function(t){this.name=t,this.socket.emit("player-joined",{name:this.name,roomId:this.roomId})},readyUp:function(){this.socket.emit("player-updated",{ready:!0})},notReady:function(){this.socket.emit("player-updated",{ready:!1})},revealQuestResult:function(t){console.log(t)}}},O=R,A=(a("0d38"),Object(u["a"])(O,s,n,!1,null,"3f87ecb6",null));e["default"]=A.exports},"7db0":function(t,e,a){"use strict";var s=a("23e7"),n=a("b727").find,o=a("44d2"),i=a("ae40"),r="find",l=!0,c=i(r);r in[]&&Array(1)[r]((function(){l=!1})),s({target:"Array",proto:!0,forced:l||!c},{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),o(r)},"90df":function(t,e,a){},ae40:function(t,e,a){var s=a("83ab"),n=a("d039"),o=a("5135"),i=Object.defineProperty,r={},l=function(t){throw t};t.exports=function(t,e){if(o(r,t))return r[t];e||(e={});var a=[][t],c=!!o(e,"ACCESSORS")&&e.ACCESSORS,d=o(e,0)?e[0]:l,u=o(e,1)?e[1]:void 0;return r[t]=!!a&&!n((function(){if(c&&!s)return!0;var t={length:-1};c?i(t,1,{enumerable:!0,get:l}):t[1]=1,a.call(t,d,u)}))}},b0c0:function(t,e,a){var s=a("83ab"),n=a("9bf2").f,o=Function.prototype,i=o.toString,r=/^\s*function ([^ (]*)/,l="name";s&&!(l in o)&&n(o,l,{configurable:!0,get:function(){try{return i.call(this).match(r)[1]}catch(t){return""}}})},b727:function(t,e,a){var s=a("0366"),n=a("44ad"),o=a("7b0b"),i=a("50c4"),r=a("65f0"),l=[].push,c=function(t){var e=1==t,a=2==t,c=3==t,d=4==t,u=6==t,b=5==t||u;return function(m,p,v,y){for(var f,h,g=o(m),C=n(g),_=s(p,v,3),w=i(C.length),k=0,E=y||r,x=e?E(m,w):a?E(m,0):void 0;w>k;k++)if((b||k in C)&&(f=C[k],h=_(f,k,g),t))if(e)x[k]=h;else if(h)switch(t){case 3:return!0;case 5:return f;case 6:return k;case 2:l.call(x,f)}else if(d)return!1;return u?-1:c||d?d:x}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},e8b5:function(t,e,a){var s=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==s(t)}}}]);
//# sourceMappingURL=chunk-cd9c1676.7a9f2ea1.js.map